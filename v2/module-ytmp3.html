<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: ytmp3</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: ytmp3</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Core library for <strong>YTMP3</strong> project.</p>
<p>This module contains the core functionality for <strong>YTMP3</strong> project.
It utilizes the <a href="https://www.npmjs.com/package/@distube/ytdl-core">@distube/ytdl-core</a> (to download YouTube videos) and
<a href="https://www.npmjs.com/package/fluent-ffmpeg">fluent-ffmpeg</a> (to convert audio formats) libraries.</p>
<p>This module provides APIs to easily download YouTube videos (also supports YouTube Music) and convert them to MP3 format.
The output MP3 files are stored in the specified output directory named <code>download</code> relatively to the project's root directory.</p>
<p>You can download a single YouTube video or a bunch of YouTube videos from a file as audio files and convert them to MP3 format.
If you want to download a single YouTube video, please use the <a href="module-ytmp3.html#~singleDownload"><code><code>singleDownload</code></code></a> function.
Or if you want to download a bunch of YouTube videos, first you need to store all YouTube URLs in a file and then use the
<a href="module-ytmp3.html#~batchDownload"><code><code>batchDownload</code></code></a> function to download them by passing the path of the file.</p></div>
        

        
            















<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Ryuu Mitsuki &lt;https://github.com/mitsuki31></li>
        </ul>
    </dd>
    

    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>MIT</li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Examples</h5>
    
        <p class="code-caption"> Download a single YouTube video </p>
    
    <pre class="prettyprint"><code>const ytmp3 = require('ytmp3-js');
ytmp3.singleDownload('https://www.youtube.com/watch?v=&lt;VIDEO_ID>')
  .then(outputFile => console.log('Download complete:', outputFile))
  .catch(err => console.error('Download failed:', err));</code></pre>

        <p class="code-caption"> Download a batch of YouTube videos </p>
    
    <pre class="prettyprint"><code>const ytmp3 = require('ytmp3-js');
ytmp3.batchDownload('./urls.txt')
  .then(outputFiles => {
    for (const outFile of outputFiles) {
      console.log('Download complete:', outFile);
    }
  })
  .catch(err => console.error('Download failed:', err));</code></pre>



        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li><a href="module-audioconv.html">module:audioconv</a></li>
        
            <li><a href="module-cache.html">module:cache</a></li>
        
            <li><a href="module-utils.html">module:utils</a></li>
        
            <li><a href="https://npmjs.com/package/@distube/ytdl-core">npm:@distube/ytdl-core</a></li>
        </ul>
    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~version"><span class="type-signature">(inner, constant) </span>version<span class="type-signature"></span></h4>




<div class="description">
    <p>The library version retrieved directly from <code>package.json</code>.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line221">line 221</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~version_info"><span class="type-signature">(inner, constant) </span>version_info<span class="type-signature"></span></h4>




<div class="description">
    <p>The library version information in a frozen object.</p>
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>major</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The major version number.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minor</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The minor version number.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>patch</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The patch version number.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>build</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The build information of current version (i.e., stable).</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.1.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line236">line 236</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~batchDownload"><span class="type-signature">(async, inner) </span>batchDownload<span class="signature">(file, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Record.&lt;string, <a href="global.html#BatchDownloadResult">BatchDownloadResult</a>>>}</span></h4>
    

    



<div class="description">
    <p>Downloads audio from a file containing YouTube URLs and saves them to the output directory.</p>
<p>This function is similar to <a href="module-ytmp3.html#~download"><code><code>download</code></code></a> but accepts a file containing
a list of YouTube URLs as input. If the given file is empty or does not exist, an error will be thrown.</p>
<p>As of version 1.0.0, this function has been enhanced and made more robust, aiming at the download process.
Previously, it only downloaded the first 15 URLs from the given file. Now, it downloads all of them sequentially.
The function can now handle an unlimited number of URLs, downloading them one by one (also known as,
sequential download) instead of all at once. Additionally, the download progress bar has been reworked
to display more precise and colorful information in the terminal, providing users with better insights
into the download process, and also more better and improved errors handling.</p>
<p>As of version 2.0.0, the batch file now supports comments, allowing users to include notes or instructions
in the file. These comments will be ignored during the pre-download process. Supported comments are:</p>
<ul>
<li><code># This is a comment</code></li>
<li><code>// This is also a comment</code>
Not only that, the function now capable to parse any string representing the YouTube video ID, this behavior can be
enabled by set the <code>options.includeID</code> to <code>true</code>.
Furthermore, the function has improved to make user more easy to integrate their download handler and the returned
result now provide detail information for each downloaded audio, they are includes but not least, the downloaded audio path,
metadata information per audio, audio conversion result (if enabled), and all errors that occurred during download process.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Buffer.&lt;ArrayBufferLike></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The path to the file containing YouTube URLs.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BatchDownloadOptions">BatchDownloadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to configure the batch download process. If not specified, it will automatically
uses default options, see <a href="module-utils_options-defaults.html#.DownloadOptions"><code><code>defaults.DownloadOptions</code></code></a>.
There is one option exclusively for this function, it is called <code>includeID</code>, if set to <code>true</code> the batch file processor
will treats and parses any string representing the video ID.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1521">line 1521</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the file does not exist or no URLs found within file, or if there is an error
occurred during download process.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Fulfills with an object with video IDs as keys and the download result objects
as values.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Record.&lt;string, <a href="global.html#BatchDownloadResult">BatchDownloadResult</a>>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~defaultBatchHandler"><span class="type-signature">(async, package, inner) </span>defaultBatchHandler<span class="signature">(stream, data, options)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    <p>Handles the batch download process, including progress updates, error handling, and completion notification.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">Readable</span>


            
            </td>

            

            

            <td class="description last"><p>The readable stream to download from.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Metadata of the video content.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The title of the video.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outStream</code></td>
            

            <td class="type">
            
                
<span class="param-type">fs.WriteStream</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The output stream to write to.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Options for the download process.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>quiet</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If true, suppresses log output.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If true, enables verbose logging.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outDir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    '.'
                
                </td>
            

            <td class="description last"><p>The output directory for the downloaded file.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The name of the output file.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>range</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The range of bytes to download.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1142">line 1142</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If an error occurs during the download process.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~defaultHandler"><span class="type-signature">(async, package, inner) </span>defaultHandler<span class="signature">(stream, data, options)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    <p>Handles the download process, including progress updates, error handling, and completion notification.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">Readable</span>


            
            </td>

            

            

            <td class="description last"><p>The readable stream to download from.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Metadata of the video content.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The title of the video.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outStream</code></td>
            

            <td class="type">
            
                
<span class="param-type">fs.WriteStream</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The output stream to write to.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Options for the download process.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>quiet</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If true, suppresses log output.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If true, enables verbose logging.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outDir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    '.'
                
                </td>
            

            <td class="description last"><p>The output directory for the downloaded file.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The name of the output file.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>range</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The range of bytes to download.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1075">line 1075</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If an error occurs during the download process.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~download"><span class="type-signature">(async, inner) </span>download<span class="signature">(url, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#DownloadResult">DownloadResult</a>>}</span></h4>
    

    



<div class="description">
    <p>Downloads audio from a YouTube video using the provided video URL or video ID.</p>
<p>This function performs the entire process of downloading YouTube audio, including:</p>
<ul>
<li>Validating and resolving the input (URL or video ID).</li>
<li>Fetching video metadata and selecting the best available audio format.</li>
<li>Managing file naming, sanitization, and output directory resolution.</li>
<li>Handling download interruptions and ensuring safe termination.</li>
<li>Writing the downloaded data to a file with proper error handling.</li>
<li>Optionally converting the downloaded audio format.</li>
</ul>
<p>The function retrieves video metadata from YouTube, checks for available audio formats,
and downloads the content in AAC (Advanced Audio Coding) format by default. The file is
saved in the current directory unless <code>options.outDir</code> is specified.</p>
<h3>Customizing the Download Process</h3>
<p>If you want to change the behavior of the download process, you can provide a custom
<code>options.handler</code> function to handle the download stream and log messages. The handler
function accepts 3 arguments: a <code>ReadableStream</code> instance, the video metadata object, and the options object.
The handler function can be a synchronous or asynchronous function that returns a promise, both of them are
handled properly by this function. But it is recommended to use an asynchronous function, as it might
cause to blocking of the main thread if the handler function is synchronous.</p>
<h3>Caching Behavior</h3>
<p>By default, video metadata is cached in YTMP3’s cache directory to optimize subsequent downloads.
This behavior can be disabled by setting <code>options.useCache</code> to <code>false</code>, which forces the function
to always fetch fresh metadata from the YouTube server. Disabling this option also prevents the
function from creating or updating any cached data for the given video.</p>
<h3>Cache Expiration</h3>
<p>Cached video metadata expires after 2 hours (7200 seconds or 7.2×10⁵ milliseconds). Once expired,
the function attempts to verify cache validity by sending a HEAD request to YouTube. If the response
status is <code>200 OK</code>, the cached data is used instead of fetching new metadata. Otherwise, fresh data
is retrieved and the cache is updated.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>A YouTube video URL or video ID to download its audio content.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#DownloadOptions">DownloadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to configure the video information retrieval and download process.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1232">line 1232</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If the provided video ID is invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="IDValidationError.html">IDValidationError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If options are not a valid object.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="InvalidTypeError.html">InvalidTypeError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If an error occurs during fetching, downloading, or writing the file.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Fulfills with an object containing download metadata and file paths.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#DownloadResult">DownloadResult</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~downloadAudio"><span class="type-signature">(async, generator, package, inner) </span>downloadAudio<span class="signature">(&hellip;urls)</span><span class="type-signature"> &rarr; {Promise.&lt;object>}</span></h4>
    

    



<div class="description">
    <p>Downloads audio from multiple YouTube videos sequentially.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>urls</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>The URLs to download audio from.
Each URL can be a string or a URL object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0, 2.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line963">line 963</a>
    </li></ul></dd>
    

    

    

    
</dl>

















<h5>Yields:</h5>

        
<div class="param-desc">
    A promise that resolves to an object containing
                                  video information, video data, and a download stream.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;object></span>


    </dd>
</dl>

    



        
            

    

    
    <h4 class="name" id="~downloadHandler"><span class="type-signature">(async, package, inner) </span>downloadHandler<span class="signature">(readable<span class="signature-attributes">non-null</span>, data, verbose)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>readable</code></td>
            

            <td class="type">
            
                
<span class="param-type">Readable</span>


            
            </td>

            

            

            <td class="description last"><p>The readable stream to process.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The data object containing video information, video data, and an output stream.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>videoData</code></td>
            

            <td class="type">
            
                
<span class="param-type">VideoData</span>


            
            </td>

            

            

            <td class="description last"><p>The processed video data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outStream</code></td>
            

            <td class="type">
            
                
<span class="param-type">fs.WriteStream</span>


            
            </td>

            

            

            <td class="description last"><p>The output stream to write to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>errLogFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The error log file for logging errors during download.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>progressBar</code></td>
            

            <td class="type">
            
                
<span class="param-type">ProgressBar</span>


            
            </td>

            

            

            <td class="description last"><p>The progress bar object.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Whether to display progress bar and error message to the terminal or not.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0, 2.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1015">line 1015</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~getInfo"><span class="type-signature">(async, inner) </span>getInfo<span class="signature">(url, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(ytdl.videoInfo|Array.&lt;ytdl.videoInfo>|Record.&lt;string, ytdl.videoInfo>)>}</span></h4>
    

    



<div class="description">
    <p>Retrieves the YouTube video information from the given YouTube URL(s) or ID(s).</p>
<p>If the given URL is an array either of strings or <code>URL</code> objects, the function will
returns an array fullfilled with the video information from each URLs (except
<code>options.asObject</code> is set to <code>true</code>). The function will automatically filter out any
nullable values (<code>null</code>, <code>undefined</code> or an empty string) from the array, if provided.</p>
<p>For more flexibility, this function also accepts video ID to <code>url</code> parameter. In this case,
the function will returns the video information for the given video ID.</p>
<p>This function will able to create and retrieve a cache of video information for faster
access by enabling the <code>options.useCache</code> option. The cache file will be created in the
YTMP3's cache directory, see <code><code>VINFO_CACHE_PATH</code></code>.
If the cache not found or <code>options.useCache</code> is set to <code>false</code>, the function will
ignore the cache and fetch the video information from the server, and if the <code>options.useCache</code>
is set to <code>true</code>, the function will store the cache for later retrieval the video information.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>
|

<span class="param-type">Array.&lt;(string|URL)></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The YouTube video URL(s) or ID(s) to retrieve its information.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ytdl.getInfoOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to use when fetching the video information.
This options object is extend to the <code>ytdl.getInfoOptions</code> object.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>asObject</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set to <code>true</code>, the returned value will be an object
with video ID as keys and video information object as values.
Otherwise, the returned value will be an array of video
information objects. This option will be ignored if the
<code>url</code> is not an array.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useCache</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set to <code>true</code>, the function will use the cache to
retrieve the video information. Otherwise, the function
will ignore the cache and fetch the video information
from the server. This also will make the function to create a
new cache file in the YTMP3's cache directory.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether to print the process retrieval to standard output. Defaults to <code>false</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line743">line 743</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If there is an invalid YouTube video ID.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="IDValidationError.html">IDValidationError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If there is an invalid YouTube video URL.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="URLValidationError.html">URLValidationError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If there is an error occurred while fetching video information from server or cache.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise fulfills with a video information. If the <code>url</code> is an array, returned value
will be an array of video information(s), or if the <code>options.asObject</code> is set to <code>true</code>,
the returned value will be an object with video ID as keys and video information object as values.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(ytdl.videoInfo|Array.&lt;ytdl.videoInfo>|Record.&lt;string, ytdl.videoInfo>)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~getVideosInfo"><span class="type-signature">(async, inner) </span>getVideosInfo<span class="signature">(&hellip;urls)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;ytdl.videoInfo>>}</span></h4>
    

    



<div class="description">
    <p>Retrieves information for multiple YouTube videos sequentially.</p>
<p><strong>Deprecated</strong>: Please use <a href="module-ytmp3.html#~getInfo"><code><code>getInfo</code></code></a> instead for better
video information retrieval with caching capability.</p>
<p>This function accepts multiple YouTube URLs and retrieves information for each
video sequentially. It processes each URL one by one, ensuring that the next
URL is processed only after the previous one is complete.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>urls</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>The YouTube video URLs to fetch information
for. Each URL can be either a string or a URL object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.2.0, 2.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line684">line 684</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-ytmp3.html#~getInfo"><code>module:ytmp3~getInfo</code></a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If any of the provided URLs are invalid, validated using
<code>validateURL</code> function from <code>ytdl-core</code> module.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to an array of video
information objects.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;ytdl.videoInfo>></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const videoUrls = [
  'https://www.youtube.com/watch?v=abcd1234',
  'https://www.youtube.com/watch?v=wxyz5678'
];

getVideosInfo(...videoUrls).then(videoInfos => {
  console.log(videoInfos);
}).catch(error => {
  console.error('Error fetching video info:', error);
});</code></pre>



        
            

    

    
    <h4 class="name" id="~resolveDlOptions"><span class="type-signature">(inner) </span>resolveDlOptions<span class="signature">(options)</span><span class="type-signature"> &rarr; {<a href="global.html#DownloadOptions">DownloadOptions</a>}</span></h4>
    

    



<div class="description">
    <p>Resolves and validates download options.</p>
<p>This function ensures the provided download options are correctly typed and
assigns default values where necessary.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The options object.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>downloadOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#DownloadOptions">DownloadOptions</a></span>
|

<span class="param-type">Object</span>
|

<span class="param-type">undefined</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>The download options to resolve and validate.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0, 2.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line324">line 324</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the given argument is non-null, but also not an object type.
And if any of the options have incorrect type.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The resolved download options. This object can be passed
safely to <a href="module-ytmp3.html#~singleDownload"><code><code>singleDownload</code></code></a> or
<a href="module-ytmp3.html#~singleDownload"><code><code>singleDownload</code></code></a> function.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#DownloadOptions">DownloadOptions</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~sanitizeFilename"><span class="type-signature">(inner) </span>sanitizeFilename<span class="signature">(filename)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    <p>Sanitizes a filename by replacing invalid characters with underscores.</p>
<p>The following characters are considered invalid in filenames and will be replaced: <code>/\:*?&quot;|&lt;&gt;</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filename</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The original filename to be sanitized.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line463">line 463</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>The sanitized filename with invalid characters replaced by underscores.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~singleDownload"><span class="type-signature">(async, inner) </span>singleDownload<span class="signature">(inputUrl<span class="signature-attributes">non-null</span>, downloadOptions<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;string>}</span></h4>
    

    



<div class="description">
    <p>Downloads audio from a single YouTube URL and saves it to the output directory.</p>
<p><strong>Deprecated</strong>: Please use <a href="module-ytmp3.html#~download"><code><code>download</code></code></a> instead.
The processes handling are more better than this function.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inputUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The URL of the YouTube video to download audio from.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downloadOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#DownloadOptions">DownloadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to configure the download process. If not specified, it will automatically uses default options.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0, 2.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Since v2.0.0, deprecated due to inefficiency processes handling and will be removed in a future version.
             Please use <a href="module-ytmp3.html#~download"><code>`download`</code></a> for better and improved processes handling and more efficient.</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1424">line 1424</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-ytmp3.html#~download"><code>download</code></a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If there is an error occurs during download process.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If the input URL is not a string nor an instance of URL.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves a string representating
the output file when the download completes
or rejects if an error occurs.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>singleDownload('https://www.youtube.com/watch?v=&lt;VIDEO_ID>')
  .then(outFile => console.log(outFile))
  .catch(err => console.error('Download failed:', err));</code></pre>



        
            

    

    
    <h4 class="name" id="~validateYTURL"><span class="type-signature">(package, inner) </span>validateYTURL<span class="signature">(url, verbose<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Validates a YouTube URL.</p>
<p>This function validates a YouTube URL and throws an error if it is not valid.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The URL to validate.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether to log verbose messages or not.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If the URL is not a string nor an instance of <code>URL</code>.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>If the input URL is not valid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>







        
            

    

    
    <h4 class="name" id="~writeErrorLog"><span class="type-signature">(async, package, inner) </span>writeErrorLog<span class="signature">(logfile, videoData, error<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>
    

    



<div class="description">
    <p>Writes error details and associated video information to a log file.</p>
<p>This function creates or appends to a log file in the <a href="module-utils.html#~LOGDIR"><code><code>LOGDIR</code></code></a>
directory, logging the error message along with relevant video data. If the log file is empty
after writing, it will be deleted, and the function returns <code>false</code>. Otherwise, it
returns <code>true</code> to indicate successful logging.</p>
<p>The error message is written to the log file in the following format:</p>
<pre class="prettyprint source lang-txt"><code>[ERROR] &lt;error message>
  Title: &lt;video title>
  Author: &lt;video author>
  Channel ID: &lt;video channel ID>
  Viewers: &lt;video viewers>
  URL: &lt;video URL>
---------------------------------------------
</code></pre>
<p>Immediately return <code>false</code> if the given log file name is invalid. The error log
will be in the <a href="module-utils.html#~LOGDIR"><code><code>LOGDIR</code></code></a> directory.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>logfile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The name of the log file where the error details should be written.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>videoData</code></td>
            

            <td class="type">
            
                
<span class="param-type">VideoData</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>An object containing information about the video associated
with the error.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">Error</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The error object, optional. If not provided,
an error message will be <code>'Unknown error'</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line921">line 921</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to <code>true</code> if the log was written
successfully, otherwise <code>false</code>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~ytmp3"><span class="type-signature">(async, inner) </span>ytmp3<span class="signature">(input, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Downloads a YouTube audio and optionally convert into specific audio format
with one function.</p>
<p>Use the <a href="module-ytmp3.html#~batchDownload"><code><code>ytmp3.batchDownload</code></code></a> function if you want
to batch download some YouTube audios from a specific file.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The YouTube URL or video ID to download.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#DownloadOptions">DownloadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An optional options object to configure the retrieval
video information, download, and audio conversion process.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ytmp3.js.html">ytmp3.js</a>, <a href="ytmp3.js.html#line1858">line 1858</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-ytmp3.html#~download"><code>ytmp3.download</code></a></li>
        
            <li><a href="module-ytmp3.html#~batchDownload"><code>ytmp3.batchDownload</code></a></li>
        </ul>
    </dd>
    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-audioconv.html">audioconv</a></li><li><a href="module-cache.html">cache</a></li><li><a href="module-config.html">config</a></li><li><a href="module-utils.html">utils</a></li><li><a href="module-utils_info-utils.html">utils/info-utils</a></li><li><a href="module-utils_localep.html">utils/localep</a></li><li><a href="module-utils_logger.html">utils/logger</a></li><li><a href="module-utils_options.html">utils/options</a></li><li><a href="module-utils_thumb-utils.html">utils/thumb-utils</a></li><li><a href="module-utils_type-utils.html">utils/type-utils</a></li><li><a href="module-utils_url-utils.html">utils/url-utils</a></li><li><a href="module-utils_yt-urlfmt.html">utils/yt-urlfmt</a></li><li><a href="module-ytmp3.html">ytmp3</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-utils_info-utils-FormatUtils.html">FormatUtils</a></li><li><a href="module-utils_info-utils-InfoUtils.html">InfoUtils</a></li><li><a href="module-utils_options-defaults.html">defaults</a></li><li><a href="module-utils_thumb-utils-ThumbnailUtils.html">ThumbnailUtils</a></li></ul><h3>Classes</h3><ul><li><a href="CacheValidationError.html">CacheValidationError</a></li><li><a href="GlobalConfigParserError.html">GlobalConfigParserError</a></li><li><a href="IDExtractorError.html">IDExtractorError</a></li><li><a href="IDValidationError.html">IDValidationError</a></li><li><a href="InvalidTypeError.html">InvalidTypeError</a></li><li><a href="URLValidationError.html">URLValidationError</a></li><li><a href="UnknownOptionError.html">UnknownOptionError</a></li><li><a href="UnknownYouTubeDomainError.html">UnknownYouTubeDomainError</a></li><li><a href="module-cache-CacheBase64.html">CacheBase64</a></li><li><a href="module-cache-CacheZLib.html">CacheZLib</a></li><li><a href="module-cache-VInfoCache.html">VInfoCache</a></li><li><a href="module-utils_info-utils-DateFormatter.html">DateFormatter</a></li><li><a href="module-utils_logger-Logger.html">Logger</a></li><li><a href="module-utils_url-utils-URLUtils.html">URLUtils</a></li><li><a href="module-utils-ProgressBar.html">ProgressBar</a></li></ul><h3>Global</h3><ul><li><a href="global.html#STYLE_FMTS">STYLE_FMTS</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Mar 25 2025 01:49:48 GMT+0700 (Western Indonesia Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>