<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: audioconv</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: audioconv</h1>

    




<section>

<header>
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p><code>audioconv</code> is an abbreviation for Audio Converter, this module
provides a function to convert audios to any supported format utilizing the
<code>fluent-ffmpeg</code> module and <code>ffmpeg</code> library on the system.</p>
<p>To convert the audio file, this module needs <code>ffmpeg</code> to be installed.
You can download it from <a href="https://ffmpeg.org/">FFmpeg official site</a>.
Or if you want to use CLI:</p>
<h4>Using <code>apt</code> (for Linux)</h4>
<pre class="prettyprint source lang-bash"><code>$ sudo apt install ffmpeg
</code></pre>
<h4>Using Chocolatey (for Windows)</h4>
<p><small><em>*Make sure to <strong>Run as Administrator</strong></em></small></p>
<pre class="prettyprint source lang-pwsh"><code>PS > choco install ffmpeg-full -y
</code></pre></div>
        

        


<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.2.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Ryuu Mitsuki (https://github.com/mitsuki31)</li>
        </ul>
    </dd>
    

    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>MIT</li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="audioconv.js.html">audioconv.js</a>, <a href="audioconv.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li><a href="module-utils.html">module:utils</a></li>
        </ul>
    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~defaultOptions"><span class="type-signature">(inner, constant) </span>defaultOptions<span class="type-signature"> :ResolvedConvertAudioOptions</span></h4>




<div class="description">
    <p>Default options of audio converter options.</p>
<p>Any option that are not specified on <code>options</code> argument in <code>convertAudio</code> function
will fallback to this options. This default options will convert the audio
to the MP3 format with bitrate of 128 kbps, frequency of 44100 Hz (Hertz),
stereo channel and use the default MP3 codec.</p>
<p>If you want to delete the old audio file after conversion, set the
<code>deleteOld</code> option to <code>true</code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">ResolvedConvertAudioOptions</span>


        </li>
    </ul>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="audioconv.js.html">audioconv.js</a>, <a href="audioconv.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~checkFfmpeg"><span class="type-signature">(async, inner) </span>checkFfmpeg<span class="signature">(verbose)</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>
    

    



<div class="description">
    <p>Checks whether the <code>ffmpeg</code> binary is installed on system or not.</p>
<p>First, it checks if the <code>FFMPEG_PATH</code> environment variable is set. If it is set, it returns <code>true</code>.
Otherwise, if not set, it checks if the <code>ffmpeg</code> binary is installed on system by directly executing it.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether to log verbose messages or not.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="audioconv.js.html">audioconv.js</a>, <a href="audioconv.js.html#line150">line 150</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p><code>true</code> if the <code>ffmpeg</code> binary installed on system; otherwise, <code>false</code>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~convertAudio"><span class="type-signature">(async, inner) </span>convertAudio<span class="signature">(inFile, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Converts an audio file to a specified format using the given options.</p>
<p>Before performing audio conversion, it first checks the <code>ffmpeg</code> binary by
searching on the <code>FFMPEG_PATH</code> environment variable, if set. Otherwise, it
force check by calling the <code>ffmpeg</code> command itself on child process.</p>
<p>If the <code>ffmpeg</code> is not installed on the system, this function will aborts
immediately and rejects with an error.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The input file path of the audio file to be converted.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ConvertAudioOptions">ConvertAudioOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    defaultOptions
                
                </td>
            

            <td class="description last"><p>Options object for configuring
the conversion process.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="audioconv.js.html">audioconv.js</a>, <a href="audioconv.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-audioconv.html#~defaultOptions"><code>defaultOptions</code></a></li>
        
            <li><a href="module-audioconv.html#~checkFfmpeg"><code>checkFfmpeg</code></a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the input audio file is not exist or if there is an error
occurred during audio conversion.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    






    <h5>Example</h5>
    
    <pre class="prettyprint"><code>convertAudio('path/to/audio.wav', { format: 'mp3', bitrate: '192k' })
  .then(() => console.log('Conversion complete'))
  .catch(err => console.error('Conversion failed:', err));</code></pre>



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~ResolvedConvertAudioOptions">ResolvedConvertAudioOptions</h4>




<div class="description">
    <p>The resolved <code>ConvertAudioOptions</code> options.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="global.html#ConvertAudioOptions">ConvertAudioOptions</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The desired output format (e.g., <code>'mp3'</code>, <code>'aac'</code>).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bitrate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The audio bitrate (e.g., <code>'128k'</code>),
it may be a number or a string with an optional <code>k</code> suffix.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>frequency</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The audio sampling frequency in Hz.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>codec</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The audio codec to use (e.g., <code>'libmp3lame'</code>).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channels</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of audio channels (<code>2</code> for stereo).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>deleteOld</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Whether to delete the original file after conversion.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>quiet</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Whether to suppress the conversion progress and error message or not.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="audioconv.js.html">audioconv.js</a>, <a href="audioconv.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-audioconv.html#~defaultOptions"><code>defaultOptions</code></a></li>
        </ul>
    </dd>
    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-audioconv.html">audioconv</a></li><li><a href="module-config.html">config</a></li><li><a href="module-utils.html">utils</a></li><li><a href="module-yt-urlfmt.html">yt-urlfmt</a></li><li><a href="module-ytmp3.html">ytmp3</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-utils-Logger.html">Logger</a></li></ul><h3>Classes</h3><ul><li><a href="module-config-UnknownOptionError.html">UnknownOptionError</a></li><li><a href="module-utils-ProgressBar.html">ProgressBar</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Jul 24 2024 17:13:05 GMT+0700 (Western Indonesia Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>